<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<StackPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
        fx:controller="com.KESNAYFERLYDDY.app.controllers.VentasListController" stylesheets="@/styles/ventas.css" >
            <VBox spacing="16" style="-fx-background-color: #f8f9fa;" VBox.vgrow="ALWAYS">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                <BorderPane styleClass="header-ventas">
                    <left>
                        <Label text="Ventas" styleClass="titulo-ventas"/>
                    </left>
                    <right>
                        <HBox spacing="12" alignment="CENTER_RIGHT">
                            <HBox spacing="5" alignment="CENTER_LEFT" styleClass="filtro-reportes">
                                <Label text="Desde:"/>
                                <DatePicker fx:id="dpFechaInicio" promptText="Fecha inicio" />
                                <Label text="Hasta:"/>
                                <DatePicker fx:id="dpFechaFin" promptText="Fecha fin" />
                            </HBox>
                            <Button text="Reporte" styleClass="btn-accion-primario" onAction="#accionReporte"/>
                            <Button text="Nueva venta" styleClass="btn-accion-primario" onAction="#manejarModalRegistrarVentas"/>
                            <Button text="Cerrar" onAction="#cerrarVistaVentas" styleClass="btn-accion"/>
                        </HBox>
                    </right>
                </BorderPane>
                <ScrollPane fx:id="scrollPane" fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="productos-scroll" VBox.vgrow="ALWAYS">
                    <content >
                        <HBox spacing="16" HBox.hgrow="ALWAYS">
                            <VBox fx:id="contenedorVentas" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS"></VBox>
                        </HBox>
                    </content>
                </ScrollPane>
            </VBox>

            <VBox fx:id="overlayRegistrarVentas"
                alignment="CENTER"
                visible="false"
                onMouseClicked="#manejarModalRegistrarVentas"
                xmlns:fx="http://javafx.com/fxml"
                styleClass="overlay">
                <Label fx:id="lblMsgRegistroVenta" id="lblMsg"/>
                    <VBox onMouseClicked="#cancelarClickEnModal"
                        spacing="15"
                        styleClass="modal">
                        <Label text="Nueva venta" styleClass="modal-title"/>
                        <VBox fx:id = "contenedorProductos" prefHeight="200" VBox.vgrow="NEVER">
                            <ScrollPane fx:id = "contenedorTarjetasProducto" fitToWidth="true" style="-fx-focus-color: transparent; -fx-faint-focus-color: transparent; -fx-border-color: transparent; -fx-background-color: transparent;" VBox.vgrow="ALWAYS" onMouseClicked="#ocultarMensajeRegistroVenta">
                                <content>
                                    <VBox fx:id="contenedorMuebles">
                                    </VBox>
                                </content>
                            </ScrollPane>
                        </VBox>
                        <VBox spacing="10">
                            <Label text="Cliente" styleClass="input-label"/>
                            <ComboBox fx:id="comboClientes" styleClass="input-field" maxWidth="Infinity" onMouseClicked="#ocultarMensajeRegistroVenta"/>
                        </VBox>
                        <VBox spacing="10">
                            <Label text="Empleado" styleClass="input-label"/>
                            <ComboBox fx:id="comboEmpleados" styleClass="input-field" maxWidth="Infinity" onMouseClicked="#ocultarMensajeRegistroVenta"/>
                        </VBox>
                        <HBox alignment="CENTER_RIGHT" spacing="15">
                            <Button text="Cancelar" onAction="#manejarModalRegistrarVentas" styleClass="btn-secondary"/>
                            <Button text="Guardar" onAction="#registrarVenta" styleClass="btn-primary"/>
                        </HBox>                                                                                                                                                                                                                                                                                                                                     
                    </VBox>
            </VBox>

            <VBox fx:id="overlayEditarVentas"
                alignment="CENTER"
                visible="false"
                onMouseClicked="#manejarModalEditarVentas"
                xmlns:fx="http://javafx.com/fxml"
                styleClass="overlay">
                <Label fx:id="lblMsgEditarVenta" id="lblMsg"/>
                    <VBox onMouseClicked="#cancelarClickEnModal"
                        spacing="15"
                        styleClass="modal">
                        <Label text="Modificar venta" styleClass="modal-title"/>
                        <VBox spacing="10">
                            <Label text="Cliente" styleClass="input-label"/>
                            <ComboBox fx:id="comboClientesEditar" styleClass="input-field" maxWidth="Infinity" onMouseClicked="#ocultarMensajeEditarVenta"/>
                        </VBox>
                        <VBox spacing="10">
                            <Label text="Empleado" styleClass="input-label"/>
                            <ComboBox fx:id="comboEmpleadosEditar" styleClass="input-field" maxWidth="Infinity" onMouseClicked="#ocultarMensajeEditarVenta"/>
                        </VBox>
                        <VBox spacing="10">
                            <Label text="Fecha de venta" styleClass="input-label"/>
                            <DatePicker fx:id="dpFechaVentaEditar" styleClass="date-picker-field" maxWidth="Infinity" onMouseClicked="#ocultarMensajeEditarVenta"/>
                        </VBox>
                        <HBox alignment="CENTER_RIGHT" spacing="15">
                            <Button text="Cancelar" onAction="#manejarModalEditarVentas" styleClass="btn-secondary"/>
                            <Button text="Guardar" onAction="#editarVenta" styleClass="btn-primary"/>
                        </HBox>                                                                                                                                                                                                                                                                                                                                     
                    </VBox>
            </VBox>

            <VBox fx:id="overlayDetalleVentas"
                alignment="CENTER"
                visible="false"
                onMouseClicked="#manejarModalVerDetalles"
                xmlns:fx="http://javafx.com/fxml"
                styleClass="overlay">
                <Label fx:id="lblMsgRegistroMueble" id="lblMsg"/>
                <VBox onMouseClicked="#cancelarClickEnModal"
                    spacing="15"
                    styleClass="modal">
                    <Label text="Detalles de la venta" styleClass="modal-title"/>
                    <VBox spacing="10">
                        <Label text="Productos vendidos" />
                        <VBox fx:id="contenedorProductosVendidos">
                        </VBox>
                    </VBox>
                    <HBox alignment="CENTER_RIGHT" spacing="15">
                        <Button text="Cerrar" onAction="#manejarModalVerDetalles" styleClass="btn-secondary"/>
                    </HBox>
                </VBox>
            </VBox>

            <VBox alignment="CENTER" visible="false" fx:id="overlayEliminarVentas" styleClass="overlay" onMouseClicked="#manejarModalEliminarVentas">
                <VBox onMouseClicked="#cancelarClickEnModal" styleClass="modal">
                    <Label fx:id="lblEliminarVenta" styleClass="modal-title"/>
                    <HBox alignment="CENTER_RIGHT" spacing="15">
                        <Button text="Cancelar" onAction="#manejarModalEliminarVentas" styleClass="btn-secondary"/>
                        <Button text="Eliminar" styleClass="btn-primary" onAction="#eliminarVenta"/>
                    </HBox>
                </VBox>
            </VBox>

</StackPane>
