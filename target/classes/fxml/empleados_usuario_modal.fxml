<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.KESNAYFERLYDDY.app.controllers.RolesPermisosController"
            stylesheets="@/styles/empleados_usuarios.css"
            prefWidth="1000" prefHeight="600">

    <top>
        <BorderPane styleClass="modal-header" prefHeight="50">
            <left>
                <VBox spacing="2">
                    <Label text="Administrar Roles y Permisos" styleClass="modal-title"/>
                    <Label text="Gestione los roles y permisos del sistema" styleClass="modal-subtitle"/>
                </VBox>
            </left>
            <right>
                <Button text="Cerrar" onAction="#accionCerrar" styleClass="btn-close"/>
            </right>
        </BorderPane>
    </top>

    <center>
        <HBox spacing="15" alignment="TOP_CENTER">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15"/>
            </padding>

            <VBox spacing="12" prefWidth="400" styleClass="form-panel">
                <Label text="Roles del Sistema" styleClass="form-title"/>
                <VBox styleClass="table-container" VBox.vgrow="ALWAYS">
                    <TableView fx:id="tablaRoles" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colRolId" text="ID" prefWidth="80" styleClass="table-column"/>
                            <TableColumn fx:id="colRolNombre" text="Rol" prefWidth="200" styleClass="table-column"/>
                        </columns>
                    </TableView>
                </VBox>

                <VBox spacing="8" styleClass="form-field-full">
                    <Label text="Nuevo Rol" styleClass="form-label"/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <TextField fx:id="txtNuevoRol" promptText="Nombre del rol" styleClass="form-input-full" HBox.hgrow="ALWAYS"/>
                        <Button text="Crear Rol" onAction="#crearRol" styleClass="button,primary"/>
                    </HBox>
                </VBox>

                <VBox spacing="8" styleClass="form-field-full" VBox.vgrow="ALWAYS">
                    <Label text="Permisos Asignados" styleClass="form-label"/>
                    <ListView fx:id="listaPermisosAsignados" styleClass="form-input-full,large-list" VBox.vgrow="ALWAYS"/>
                </VBox>
            </VBox>

            <VBox spacing="12" prefWidth="400" styleClass="form-panel">
                <Label text="Permisos del Sistema" styleClass="form-title"/>
                <VBox styleClass="table-container" VBox.vgrow="ALWAYS">
                    <TableView fx:id="tablaPermisos" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colPermisoId" text="ID" prefWidth="80" styleClass="table-column"/>
                            <TableColumn fx:id="colPermisoNombre" text="Permiso" prefWidth="250" styleClass="table-column"/>
                        </columns>
                    </TableView>
                </VBox>

                <VBox spacing="8" styleClass="form-field-full">
                    <Label text="Nuevo Permiso" styleClass="form-label"/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <TextField fx:id="txtNuevoPermiso" promptText="Nombre del permiso" styleClass="form-input-full" HBox.hgrow="ALWAYS"/>
                        <Button text="Crear Permiso" onAction="#crearPermiso" styleClass="button,primary"/>
                    </HBox>
                </VBox>
            </VBox>
        </HBox>
    </center>

    <bottom>
        <BorderPane styleClass="footer-panel" prefHeight="40">
            <left>
                <Label text="Sugerencia: clic derecho en un rol/permiso para acciones" styleClass="footer-text"/>
            </left>
        </BorderPane>
    </bottom>
</BorderPane>